{
  "hash": "7948d5f98c391bcb18d8528e7a39aba0",
  "result": {
    "markdown": "---\ntitle: \"One-Way ANOVA to Two-Way ANOVA Model Selection Process\"\nformat: \n  html: \n    standalone: true\neditor: visual\nexecute: \n  warning: false\n  message: false\n---\n\n\n\n\nWe will be using a \"forward\" selection process for deciding on the \"best\" ANOVA model. Meaning, we will start with a simple model and keep adding complexity until it seems like the complexity isn't \"worth it.\"\n\n# Step 1 -- Fit an One-Way ANOVA Model for Each Categorical Variable\n\n## Plot the model\n\n\n::: {.cell layout-nrow=\"1\" layout-align=\"center\"}\n::: {.cell-output-display}\n![](owa-to-twa-model-selection-process_files/figure-html/owa-plot-1.png){fig-align='center' width=672}\n:::\n\n::: {.cell-output-display}\n![](owa-to-twa-model-selection-process_files/figure-html/owa-plot-2.png){fig-align='center' width=672}\n:::\n:::\n\n\n**What are we looking for?**\n\nWe are looking to see if the mean of the response variable (IMDB rating) differs between the explanatory variable groups (genre or era). This is akin to looking for evidence that the slope of the regression line is not 0!\n\nFor these data we are looking to see if at least one of the genres has a different mean IMDB rating **or** if at least one of the eras has a different mean movie rating.\n\n## Fit the model(s)\n\n\n::: {.cell}\n\n```{.r .cell-code}\naov(rating ~ era, data = movies) %>% \n  tidy()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 × 6\n  term         df  sumsq meansq statistic p.value\n  <chr>     <dbl>  <dbl>  <dbl>     <dbl>   <dbl>\n1 era           3   4.59   1.53     0.669   0.575\n2 Residuals    52 119.     2.28    NA      NA    \n```\n:::\n\n```{.r .cell-code}\naov(rating ~ genre, data = movies) %>% \n  tidy()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 × 6\n  term         df  sumsq meansq statistic p.value\n  <chr>     <dbl>  <dbl>  <dbl>     <dbl>   <dbl>\n1 genre         1   4.68   4.68      2.13   0.150\n2 Residuals    54 119.     2.20     NA     NA    \n```\n:::\n:::\n\n\n## Perform a Hypothesis Test\n\nThe `era` line of the ANOVA table is testing if the mean movie rating is different for at least one era. It has the following hypotheses:\n\n$H_0$: The mean movie rating is the same for **every** era\n\n$H_A$: The mean movie rating is different for **at least one** era\n\nWith a p-value of 0.575 (from an F-statistic of 0.669 with 3 and 52 degrees of freedom) at a significance level of 0.1, I fail to reject the null hypothesis. Thus, the data have unconvincing evidence that the mean movie rating differs for at least one era.\n\nThe `genre` line of the ANOVA table is testing if the mean movie rating is different for at least genre. It has the following hypotheses:\n\n$H_0$: The mean movie rating is the same for **every** genre\n\n$H_A$: The mean movie rating is different for **at least one** genre\n\nWith a p-value of 0.015 (from an F-statistic of 2.127 with 1 and 54 degrees of freedom) at a significance level of 0.1, I fail to reject the null hypothesis. Thus, the data have unconvincing evidence that the mean movie rating differs for at least one genre.\n\n::: callout-tip\n# Categorical variables with two levels\n\nTechnically, if your categorical variable has only two levels, your alternative hypothesis is testing if there is a difference between the levels. But! This **is not** the case if your variable has more than two levels!\n:::\n\n# Step 3: Decide How to Proceed\n\nYou will decide what model to fit next depending on the results of your one-way ANOVA models.\n\n-   If you failed to reject the null hypothesis for **either** one-way ANOVA models...\n    -   You **do not** fit any additional models.\n-   If you rejected the null hypothesis for **both** one-way ANOVA models...\n    -   your next step is to fit an additive two-way ANOVA model\n\n::: callout-caution\n# Additive two-way ANOVA\n\nIn Week 10 we will learn about additive and interaction two-way ANOVA models, so you will have the tools to fit these additional models then!\n:::\n\n# Step 2: Fit an Additive Two-Way ANOVA\n\nWe are looking to see if the mean of $y$ differs across the values of explanatory variable 1 and / or explanatory variable 2. This is akin to fitting a parallel slopes model in a multiple linear regression, where the y-intercept is the estimated change in the mean of $y$ for each group and the slope is the estimated relationship between the explanatory variable and the mean of $y$.\n\nFor these data we are looking to see if the genres have differences in the mean movie ratings **and** if the eras have differences in the mean movie rating.\n\n## Plot the model\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](owa-to-twa-model-selection-process_files/figure-html/twa-plot-1.png){fig-align='center' width=672}\n:::\n:::\n\n\n## Fit the Model\n\n::: callout-tip\nNotice I'm using a `+` for an interaction model!\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\naov(rating ~ era + genre, data = movies) %>%\n  tidy()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 3 × 6\n  term         df  sumsq meansq statistic p.value\n  <chr>     <dbl>  <dbl>  <dbl>     <dbl>   <dbl>\n1 era           3   4.59   1.53     0.680   0.568\n2 genre         1   4.19   4.19     1.86    0.178\n3 Residuals    51 115.     2.25    NA      NA    \n```\n:::\n:::\n\n\n## Perform a Hypothesis Test\n\nThe `era` and `genre` lines of the two-way ANOVA table perform similar tests to the separate one-way ANOVA models. However, by including **both** variables in the **same** model, each of these tests are now conditional on the other variable(s) in the model.\n\nThe `era` line is testing if the mean movie rating is different for at least one era, conditional on the `genre` of the movie. It has the following hypotheses:\n\n$H_0$: The mean movie rating is the same for **every** era, given the `genre` of the movie\n\n$H_A$: The mean movie rating is different for **at least one** era, given the `genre` of the movie\n\nWith a p-value of 0.568 (from an F-statistic of 0.680 with 3 and 51 degrees of freedom) at a significance level of 0.1, I fail to reject the null hypothesis. Thus, the data have unconvincing evidence that the mean movie rating differs for at least one era.\n\nThe `genre` line is testing if the mean movie rating is different for at least one era, conditional on the `era` of the movie. It has the following hypotheses:\n\n$H_0$: The mean movie rating is the same for **every** genre, given the `era` of the movie\n\n$H_A$: The mean movie rating is different for **at least one** genre, given the `era` of the movie\n\nWith a p-value of 0.078 (from an F-statistic of 1.86 with 1 and 51 degrees of freedom) at a significance level of 0.1, I fail to reject the null hypothesis. Thus, the data have unconvincing evidence that the mean movie rating differs for at least one genre.\n",
    "supporting": [
      "owa-to-twa-model-selection-process_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}