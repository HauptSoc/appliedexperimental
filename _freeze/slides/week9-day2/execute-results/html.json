{
  "hash": "99c7e2c8f79ac9f4fd1700f3d326d5d2",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Coding a One-way ANOVA -- Final Project Work Day\"\nformat: \n  revealjs:\n    theme: style.scss\neditor: source\n---\n\n\n\n\n\n## Upcoming Deadlines\n\n-   Lab 7 revisions are due today (by midnight)\n-   Lab 8 revisions are due next Thursday\n-   Statistical Critique 2 will be graded by Friday, revisions will be due next Thursday\n-   Final revisions on **all** assignments will be accepted until Sunday, March 17\n\n::: callout-caution\n# Don't forget reflections!\n:::\n\n# Lab 8 Recap\n\n## Common Mistakes\n\n</br>\n\n:::{.small}\n**Questions 1 & 2** -- Your axis labels should contain units and indicate if your variables were transformed! \n\n</br>\n\n:::{.fragment}\n**Question 6** -- Equal variance is not about equal points above and below the line! \n:::\n\n</br>\n\n:::{.fragment}\n**Question 11** -- Your hypothesis test decision should state what $\\alpha$ was used!\n:::\n\n</br>\n\n:::{.fragment}\n**Question 14** -- The $t$-distribution *approximates* the permutation distribution!\n:::\n\n</br>\n\n:::{.fragment}\n**Question 15** -- Both theory-based and simulation-based methods have conditions and the reliability of a p-value depends on those conditions. \n:::\n:::\n\n# Coding a One-way ANOVA\n\n## Visualizations -- Density Ridges\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"false\"}\nggplot(data = <NAME OF DATASET>, \n       mapping = aes(x = <NAME OF NUMERICAL VARIABLE>, \n                     y = <NAME OF CATEGORICAL VARIABLE>)\n       ) + \n  geom_density_ridges()+\n  labs(x = \"<TITLE FOR THE X-AXIS>\", \n       y = \"<TITLE FOR THE Y-AXIS>\")\n```\n:::\n\n\n\n:::{.callout-tip}\n# Revisit the code you wrote for Question 8 of Lab 3 \n:::\n\n## Choosing a Statistical Model\n\n</br>\n\nEveryone will fit **two** one-way ANOVA models --- one model for each explanatory variable!\n\n:::{.incremental}\n:::{.small}\n- You will need to choose whether to use a theory-based method or a simulation-based method. \n- Your choice is based on the model conditions --- specifically the normality condition. \n  * The density ridge plots can be used to check the normality and equal variance conditions. \n  * The study design should be used to check the independence condition. \n:::\n:::\n\n## Theory-based Method\n\n</br>\n\nTo fit a theory-based ANOVA, you use the following code:\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"false\"}\nmy_model <- aov(<NAME OF RESPONSE VARIABLE> ~ <NAME OF EXPLANATORY VARIABLE>, \n                data = <NAME OF DATASET>)\n```\n:::\n\n\n\n</br>\n\n. . .\n\n:::{.callout-warning}\n# Only use if normality is not violated!\n\nIf you look at your density ridge plots and you believe the normality condition is violated, you **should not** use a theory-based method! \n:::\n\n## Simulation-based Method\n\n:::{.small}\nTo fit a simulation-based ANOVA, you need to carry out the following steps:\n\n1. find the observed statistic\n2. simulate statistics that could have happened if the null was true\n3. visualize the distribution of simulated statistics (your permutation distribution)\n4. calculate the p-value for your observed statistic\n:::\n\n:::{.callout-tip}\n# 2 levels versus 3 levels\n\nIf you categorical variable has **two** levels, you need to use a `\"diff in means\"` statistic, **not** an F-statistic!\n:::\n\n## Model Validity\n\nYou can assess the normality and equal variance conditions based on the density ridge plots you make!\n\n# Where are we headed next week? \n\n## Two-way ANOVA\n\n</br>\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\nPicking joint bandwidth of 0.25\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](week9-day2_files/figure-html/age-two-cat-1.png){width=672}\n:::\n:::\n\n\n\n## Code for Plot\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = evals_small, \n       mapping = aes(y = age_cat, x = min_eval, fill = gender)) + \n  geom_density_ridges(alpha = 0.5) + \n  scale_fill_brewer(palette = \"PRGn\") +\n  labs(y = \"\",\n       title = \"Gaps between male and female faculty evaluation scores become more pronounced with age\", \n       x = \"\", \n       fill = \"Professor's Sex\") +\n  theme(legend.position = \"top\")\n```\n:::\n\n\n\n:::{.callout-tip}\n# Legend Positions\n\n:::{.small}\nThere are four options for `legend.position` \n\n1. `\"none\"` (removes the legend)\n2. `\"left\"` (difficult to read with the y-axis label)\n3. `\"right\"` (the default position)\n4. `\"bottom\"` (difficult to read with the x-axis label)\n5. `\"top\"` (generally my preference)\n:::\n:::\n\n## \n\n![](images/Cause and effect.png)\n",
    "supporting": [
      "week9-day2_files/figure-html"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}