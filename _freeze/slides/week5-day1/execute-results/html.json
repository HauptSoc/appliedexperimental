{
  "hash": "636c19e4756b6df4204512abbe3df62c",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Introduction to Multiple Linear Regression\"\nformat: \n  revealjs:\n    theme: style.scss\neditor: visual\n---\n\n\n\n\n\n\n\n\n# Midterm Project Week\n\n## Plan for Today\n\n1.  Review different types of multiple linear regression models\n\n2.  Complete an activity on sample selection\n\n3.  Start Midterm Project write-up\n\n## Plan for Wednesday\n\n**No lab** -- focus on getting **all** the coding accomplished for the Midterm Project\n\n## Draft Due by Sunday\n\nTo get everyone feedback on their drafts in a timely manner, the first drafts are due by Sunday.\n\n::: callout-caution\n# Deadline Extension\n\nA deadline extension [**is**]{.underline} permitted for the first draft. Deadline extensions [**are not**]{.underline} permitted for the final version (due next week).\n:::\n\n## Reminders About Deadlines\n\n-   Midterm Project Proposal is due [today]{.underline} by 5pm\n-   Lab 3 revisions are due Wednesday (May 1)\n-   Statistical Critique revisions are due next Wednesday (May 8)\n-   Second round of Lab 2 revisions are due by Wednesday (May 1)\n\n# Multiple Linear Regression\n\n##  {background-color=\"#D4D4D4\"}\n\n::: {style=\"font-size: 3em; color: #000000;\"}\nBefore...\n:::\n\n\n\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 2 rows containing non-finite outside the scale range\n(`stat_smooth()`).\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_point()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](week5-day1_files/figure-html/old-slr-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\n##  {background-color=\"#D4D4D4\"}\n\n::: {style=\"font-size: 3em; color: #000000;\"}\nNow...\n:::\n\n\n\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 2 rows containing non-finite outside the scale range\n(`stat_smooth()`).\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_point()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](week5-day1_files/figure-html/two-mlr-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\n##  {background-color=\"#B6CADA\"}\n\n</br> </br>\n\n<center>\n\n::: {style=\"font-size: 6em; color: #000000;\"}\nHow?\n:::\n\n</center>\n\n##  {background-color=\"#D4D4D4\"}\n\n::: {style=\"font-size: 2em; color: #000000;\"}\nOffsets!\n:::\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"false\"}\nsmoke_lm <- lm(weight ~ weeks * habit, data = ncbirths)\n\nget_regression_table(smoke_lm)\n```\n:::\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 3\n  term              estimate std_error\n  <chr>                <dbl>     <dbl>\n1 intercept           -5.94      0.484\n2 weeks                0.341     0.013\n3 habit: smoker       -1.86      1.63 \n4 weeks:habitsmoker    0.039     0.042\n```\n\n\n:::\n:::\n\n\n\n\n\n\n::: callout-note\n# Interaction Model\n\nThe \\* means the variables are interacting!\n:::\n\n## Estimated Regression Equations\n\n\n\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 3\n  term              estimate std_error\n  <chr>                <dbl>     <dbl>\n1 intercept           -5.94      0.484\n2 weeks                0.341     0.013\n3 habit: smoker       -1.86      1.63 \n4 weeks:habitsmoker    0.039     0.042\n```\n\n\n:::\n:::\n\n\n\n\n\n\n::: {style=\"font-size: 1.1em; color: #0F4C81;\"}\nWhat is the regression equation for non-smoker mothers?\n:::\n\n. . .\n\n::: {style=\"font-size: 1.1em; color: #0F4C81;\"}\nWhat is the regression equation for smoker mothers?\n:::\n\n##  {background-color=\"#B6CADA\"}\n\n<center>\n\n::: {style=\"font-size: 3em; color: #000000;\"}\nWhat if we have a second numerical explanatory variable?\n:::\n\n</center>\n\n##  {background-color=\"#D4D4D4\"}\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nncbirths %>% \n  ggplot(mapping = aes(x = weeks, y = weight, color = mage)) + \n  geom_jitter() + \n  geom_smooth(method = \"lm\") +\n  labs(x = \"Weeks of Gestation\", \n       y = \"Weight of Baby (lbs)\", \n       color = \"Mother's Age\") +\n  my_theme\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 2 rows containing non-finite outside the scale range\n(`stat_smooth()`).\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: The following aesthetics were dropped during statistical transformation:\ncolour.\nℹ This can happen when ggplot fails to infer the correct grouping structure in\n  the data.\nℹ Did you forget to specify a `group` aesthetic or to convert a numerical\n  variable into a factor?\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_point()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](week5-day1_files/figure-html/mlr-two-num-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\n##  {background-color=\"#D4D4D4\"}\n\n::: {style=\"font-size: 2em; color: #000000;\"}\nMultiple slopes\n:::\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"false\"}\nage_lm <- lm(weight ~ weeks + mage, data = ncbirths)\n\nget_regression_table(age_lm)\n```\n:::\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 × 3\n  term      estimate std_error\n  <chr>        <dbl>     <dbl>\n1 intercept   -6.68      0.492\n2 weeks        0.346     0.012\n3 mage         0.02      0.006\n```\n\n\n:::\n:::\n\n\n\n\n\n\n. . .\n\n::: {style=\"font-size: 1.25em; color: #0F4C81;\"}\nHow do you interpret the value of 0.346?\n:::\n\n. . .\n\n::: {style=\"font-size: 1.25em; color: #0F4C81;\"}\nHow do you interpret the value of 0.02?\n:::\n\n##  {background-color=\"#B6CADA\"}\n\n<center>\n\n::: {style=\"font-size: 2.5em; color: #000000;\"}\nBut how do we decide if the interaction model is \"best\" without a p-value??????\n:::\n\n</center>\n\n##  {background-color=\"#D4D4D4\"}\n\n::: {style=\"font-size: 2em; color: #000000;\"}\nWhen investigating if a relationship differs...\n:::\n\n. . .\n\n::: {style=\"font-size: 1.25em; color: #0F4C81;\"}\nAlways start with the \"interaction\" / different slopes model.\n:::\n\n. . .\n\n::: {style=\"font-size: 1.25em; color: #b76352;\"}\nIf the slopes look different, you're done!\n:::\n\n. . .\n\n::: {style=\"font-size: 1.25em; color: #34605f;\"}\nIf the slopes look similar, then fit the \"additive\" / parallel slopes model.\n:::\n\n## \n\n::: {style=\"font-size: 2em; color: #000000;\"}\nDifferent Enough?\n:::\n\n\n\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](week5-day1_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\n##  {background-color=\"#B6CADA\"}\n\n::: {style=\"font-size: 1.5em; color: #000000;\"}\nWhat if they're not very different?\n:::\n\n\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nMA_schools %>% \n  ggplot(mapping = aes(y = average_sat_math, \n                       x = perc_disadvan, \n                       color = size)) + \n  geom_point() +\n  geom_parallel_slopes() + \n  labs(x = \"Percent Economically Disadvantaged\", \n       y = \"Average SAT Math\", \n       color = \"Size of School\") +\n  my_theme\n```\n\n::: {.cell-output-display}\n![](week5-day1_files/figure-html/unnamed-chunk-3-1.png){fig-align='center' width=672}\n:::\n:::\n\n\n\n\n\n\n## \n\n::: {style=\"font-size: 2em; color: #000000;\"}\nParallel Slopes\n:::\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"false\"}\nlm(average_sat_math ~ perc_disadvan + size, \n   data = MA_schools)\n```\n:::\n\n\n\n\n\n\n</br>\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlm(average_sat_math ~ perc_disadvan + size, \n   data = MA_schools) %>% \n  get_regression_table() %>% \n  select(term:std_error)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 3\n  term          estimate std_error\n  <chr>            <dbl>     <dbl>\n1 intercept       588.       7.61 \n2 perc_disadvan    -2.78     0.106\n3 size: medium    -11.9      7.54 \n4 size: large      -6.36     6.92 \n```\n\n\n:::\n:::\n\n\n\n\n\n\n##  {background-color=\"#B6CADA\"}\n\n::: {style=\"font-size: 2em; color: #000000;\"}\nGroup equations -- Baseline\n:::\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlm(average_sat_math ~ perc_disadvan + size, data = MA_schools) %>% \n  get_regression_table() %>% \n  select(term:std_error)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 3\n  term          estimate std_error\n  <chr>            <dbl>     <dbl>\n1 intercept       588.       7.61 \n2 perc_disadvan    -2.78     0.106\n3 size: medium    -11.9      7.54 \n4 size: large      -6.36     6.92 \n```\n\n\n:::\n:::\n\n\n\n\n\n\n. . .\n\n$$\\widehat{SAT}_{small} = 588 - 2.78 \\times \\text{percent disadvantaged}$$\n\n##  {background-color=\"#B6CADA\"}\n\n::: {style=\"font-size: 2em; color: #000000;\"}\nGroup equations -- Offsets\n:::\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlm(average_sat_math ~ perc_disadvan + size, data = MA_schools) %>% \n  get_regression_table() %>% \n  select(term:std_error)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 3\n  term          estimate std_error\n  <chr>            <dbl>     <dbl>\n1 intercept       588.       7.61 \n2 perc_disadvan    -2.78     0.106\n3 size: medium    -11.9      7.54 \n4 size: large      -6.36     6.92 \n```\n\n\n:::\n:::\n\n\n\n\n\n\n. . .\n\n::: small\n$$\\widehat{SAT}_{medium} = (588 - 11.9) - 2.78 \\times \\text{percent disadvan}$$\n:::\n\n::: small\n$$\\widehat{SAT}_{medium} = 576.1 - 2.78 \\times \\text{percent disadvan}$$\n:::\n\n. . .\n\n::: small\n$$\\widehat{SAT}_{large} = (588 - 6.36) - 2.78 \\times \\text{percent disadvan}$$\n:::\n\n::: small\n$$\\widehat{SAT}_{large} = 581.64 - 2.78 \\times \\text{percent disadvan}$$\n:::\n\n<!-- ## ADD SLIDES ABOUT ANOVA  -->\n<!-- Type 1: sequential sums of squares -->\n<!-- THIS IS WHAT anova() gives! -->\n\n<!-- Type 2: this type tests for each main effect after the other main effect -->\n<!-- THIS SHOULD ONLY BE USED IF THERE IS NO INTERACTION -->\n\n<!-- Type 3: This type tests for the presence of a main effect after the other main -->\n<!-- effect and interaction.   -->\n<!-- THIS SHOULD BE USED IF THERE IS AN INTERACTION -->\n\n# Sample Selection Activity\n\n## Find Your Data Group!\n\nOnce you have found other students working on the same dataset, complete [the sample selection activity](https://atheobold.github.io/stat-313-website/activity/week-5-sample-selection.html).\n\n. . .\n\n::: small\n1.  What are the observations / rows in this dataset?\n\n2.  From what population was the sample drawn?\n\n3.  For an observation to be included in the dataset, what inclusion criteria needed to be met?\n\n4.  How were the observations who satisfied the inclusion criteria sampled from the population?\n\n5.  Based on the inclusion criteria and sampling methods, to what population can the findings of the study be generalized?\n:::\n\n# Midterm Project Work Time\n\n## Steps Before Wednesday\n\n1.  Insert the description of your dataset and variables (from the Midterm Proposal) into the \"Introduction\" of your project\n\n2.  Pose a research question about your selected variables, **which can be addressed with multiple linear regression**\n\n3.  Insert the code to create the required two (or three) visualizations\n\n4.  Write a description of what you see in the visualizations\n\n5.  Make a decision which model you believe is \"best\"\n\n<!-- ## Steps Before Wednesday (STAT 513) -->\n\n<!-- ::: small -->\n\n<!-- 1.  Create a [nicely formatted version of your dataset](../project/data-formatting-513.qmd) -->\n\n<!-- 2.  Insert the description of your dataset and variables (from the Midterm Proposal) into the \"Introduction\" of your project -->\n\n<!-- 3.  Pose a research question about your selected variables, **which can be addressed with multiple linear regression** -->\n\n<!-- 4.  Work with Dr. Theobold to write code to read in your data! -->\n\n<!-- 5.  Insert the code to create the required two (or three) visualizations -->\n\n<!-- 6.  Write a description of what you see in the visualizations -->\n\n<!-- 7.  Make a decision which model you believe is \"best\" -->\n\n<!-- ::: -->\n",
    "supporting": [
      "week5-day1_files/figure-html"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}