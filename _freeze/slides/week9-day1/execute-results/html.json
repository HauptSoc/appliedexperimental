{
  "hash": "96b1f2d98ff910f43f7803be79293a07",
  "result": {
    "markdown": "---\ntitle: \"**AN**alysis **O**f **VA**riance\"\nformat: \n  revealjs:\n    self-contained: true\n    theme: dark\neditor: visual\n---\n\n::: {.cell}\n\n:::\n\n\n::: {style=\"font-size: 2em; color: #FFFFFF;\"}\nData Visualization Principles \n:::\n\n. . .\n\n::: columns\n::: {.column width=\"45%\"}\n[Edward Tufte](https://thedoublethink.com/tuftes-principles-for-visualizing-quantitative-information/)\n![](images/tufte.gif)\n\n*Minimalism*\n\n:::\n\n::: {.column width=\"5%\"}\n:::\n\n::: {.column width=\"50%\"}\n::: {style=\"font-size: 0.75em; color: #FFFFFF;\"}\n> One of Tufte's ideas is data-to-ink ratio, generally stating that when creating a visualization, you should try to maximize the amount of \"ink\" (physical or digital) used to represent the data, and minimize the amount used to represent everything else not important to understanding.\n\n:::\n:::\n:::\n\n##\n\n::: {style=\"font-size: 2em; color: #FFFFFF;\"}\n`theme_classic()` in `ggplot()`\n:::\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](week9-day1_files/figure-revealjs/minimal-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n## \n\n::: {style=\"font-size: 2em; color: #FFFFFF;\"}\nGestalt Principles\n:::\n\n::: columns\n::: {.column width=\"40%\"}\n[Gestalt psychology](https://en.wikipedia.org/wiki/Gestalt_psychology) is a theory of perception that believes humans are inclined to understand objects as an entire structure rather than the sum of its parts.\n:::\n\n::: {.column width=\"5%\"}\n:::\n\n::: {.column width=\"55%\"}\n[Gestalt Principles for Data Visualization](https://medium.com/nightingale/how-to-apply-gestalt-psychology-principles-in-data-visualization-6242f4f1a3de)\n\n::: {style=\"font-size: 0.75em; color: #FFFFFF;\"}\n> The Figure and Ground Principle describes the capacity to perceive the relationship between form and surrounding space to create meaning. A sense of wholeness or unity depends on how you perceive the relationship between an object and the area in which it is contained. The ‘figure’ is the focus element, while the ‘ground’ is the figure’s background.\n\n:::\n:::\n:::\n\n##\n\n::: {style=\"font-size: 2em; color: #FFFFFF;\"}\n`theme_bw()` in `ggplot()`\n:::\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](week9-day1_files/figure-revealjs/classic-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n<center>\n[List of all `ggplot()` themes](https://ggplot2.tidyverse.org/reference/ggtheme.html)\n</center>\n\n## \n\n::: {style=\"font-size: 4em; color: #B6CADA;\"}\nMoving into ANOVA\n:::\n\n\n## \n\n::: {style=\"font-size: 4em; color: #FFFFFF;\"}\nBefore...\n:::\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week9-day1_files/figure-revealjs/slr-1.png){width=960}\n:::\n:::\n\n\n##\n\n::: {style=\"font-size: 4em; color: #FFFFFF;\"}\nNow...\n:::\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week9-day1_files/figure-revealjs/age-cat-1.png){width=70%}\n:::\n:::\n\n\n##  {background-color=\"#B6CADA\"}\n\n::: {style=\"font-size: 4em; color: #000000;\"}\nGoal of an ANOVA\n:::\n\nAnalysis of variance (ANOVA) compares the means of three of more groups\nto detect if the means of the groups are different.\n\n## \n\n::: {style=\"font-size: 4em; color: #B6CADA;\"}\n**How???**\n:::\n\n- Compare how different a group of means are\n- Scale the differences relative to the variability of the groups\n- Summarize the differences with one number\n\n##\n\n::: {style=\"font-size: 3.5em; color: #FFFFFF;\"}\nVisualizing Group Differences\n:::\n\n</br>\n\nWe want visualizations that allow for us to easily compare:  \n\n- the center (mean) of the groups \n- the spread (variability) of the groups \n\n##\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week9-day1_files/figure-revealjs/age-cat-density-1.png){width=70%}\n:::\n:::\n\n\n::: {style=\"font-size: 1.25em; color: #B6CADA;\"}\nWhat can you say about the differences between the groups?\n\nWhat can you say about the variability within the groups?\n:::\n\n\n##  {background-color=\"#B6CADA\"}\n\n::: {style=\"font-size: 4em; color: #0F4C81;\"}\nCarrying out an ANOVA\n:::\n\n##\n\n::: {style=\"font-size: 2em; color: #FFFFFF;\"}\nStep 1: Compare your groups\n:::\n\n![](images/groups.png)\n\n##\n\n::: {style=\"font-size: 2em; color: #FFFFFF;\"}\nStep 2: Find the overall mean\n:::\n\n![](images/overall_mean.png)\n\n::: {style=\"font-size: 1.5em; color: #B6CADA;\"}\nThis ignores the groups and finds [one]{.underline} mean for every observation!\n:::\n\n##\n\n::: {style=\"font-size: 2em; color: #FFFFFF;\"}\nStep 3: Find the group means\n:::\n\n![](images/group_means.png)\n\n##\n\n::: {style=\"font-size: 2em; color: #FFFFFF;\"}\nStep 4: Calculate the sum of squares \n:::\n\n![](images/sum_of_squares.png)\n\n##\n\n::: {style=\"font-size: 2em; color: #FFFFFF;\"}\nStep 5: Calculate the F-statistic \n:::\n\n![](images/f_stat.png)\n\n. . .\n\n</br>\n\n::: {style=\"color: #B6CADA;\"}\nCan an F-statistic be negative?\n:::\n\n##\n\n::: {style=\"font-size: 2em; color: #FFFFFF;\"}\nStep 6: Find the p-value\n:::\n\n![](images/f_dist.png)\n\n\n##\n\n::: {style=\"font-size: 2em; color: #FFFFFF;\"}\n**F-distribution**\n:::\n\nAn $F$-distribution is a variant of the $t$-distribution, and is also defined by degrees of freedom. \n\n. . .\n\n</br>\n\nThis distribution is defined by __two__ different degrees of freedom:  \n\n1. from the numerator (MSG) : $k - 1$\n2. from the denominator (MSE) : $n - k$ \n\n##\n\n::: {style=\"font-size: 2em; color: #FFFFFF;\"}\nTwo degrees of freedom!\n:::\n\n</br>\n\n::: columns\n::: {.column width=\"45%\"}\nChanging the numerator degrees of freedom\n\n![](images/f_num_df.png)\n:::\n\n::: {.column width=\"5%\"}\n:::\n\n::: {.column width=\"45%\"}\nChanging the denominator degrees of freedom\n\n![](images/f_denom_df.png)\n:::\n:::\n\n##  {background-color=\"#B6CADA\"}\n\n::: {style=\"font-size: 3em; color: #000000;\"}\nDo you always use an F-distribution to get the p-value?\n:::\n\n. . .\n\n<center>\n::: {style=\"font-size: 3em; color: #0F4C81;\"}\nNO!\n:::\n</center>\n\n##\n\n::: {style=\"font-size: 2em; color: #FFFFFF;\"}\n**Conditions of an ANOVA**\n:::\n\n- Independence \n  * Within groups \n  * Between groups\n  \n- Normality of the responses\n  * The distribution of each group is approximately normal\n\n- Equal variability of the groups \n  * The spread of the distributions are similar across groups\n\n##\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week9-day1_files/figure-revealjs/conditions-1.png){width=70%}\n:::\n:::\n\n\n. . .\n\n::: {style=\"font-size: 1em; color: #B6CADA;\"}\nWhat do you think?\n:::\n\n. . .\n\n::: {style=\"font-size: 1em; color: #B6CADA;\"}\nIf the normality condition is violated what type of method should we use?\n:::\n\n##  {background-color=\"#B6CADA\"}\n\n::: {style=\"font-size: 4em; color: #0F4C81;\"}\nSimulation-based Methods\n:::\n\n##\n\n::: {style=\"font-size: 2em; color: #FFFFFF;\"}\nStep 1: Calculating the Observed F-statistic\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nobs_F <- evals_small %>% \n  specify(response = min_eval, \n          explanatory = age_cat) %>% \n  calculate(stat = \"F\")\n```\n:::\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\nResponse: min_eval (numeric)\nExplanatory: age_cat (factor)\n# A tibble: 1 × 1\n   stat\n  <dbl>\n1  1.41\n```\n:::\n:::\n\n\n##\n\n::: {style=\"font-size: 2em; color: #FFFFFF;\"}\nStep 2: Simulating what could have happened under $H_0$\n:::\n\n. . .\n\n</br>\n\n::: {style=\"font-size: 1.5em; color: #B6CADA;\"}\nHow could we use cards to simulate what minimum evaluation score a professor would have gotten, if their score was independent from their age?\n:::\n\n\n##\n\n::: {style=\"font-size: 2em; color: #FFFFFF;\"}\nAnother Permutation Distribution\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnull_dist <- evals_small %>% \n  specify(response = min_eval, \n          explanatory = age_cat) %>% \n  hypothesize(null = \"independence\") %>% \n  generate(reps = 2000, type = \"permute\") %>% \n  calculate(stat = \"F\")\n```\n:::\n\n\n##\n\n::: {style=\"font-size: 2em; color: #FFFFFF;\"}\nAnother Permutation Distribution\n:::\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week9-day1_files/figure-revealjs/unnamed-chunk-3-1.png){width=70% height=50%}\n:::\n:::\n\n\n. . .\n\n</br>\n\n::: {style=\"font-size: 1.5em; color: #B6CADA;\"}\nWhy doesn't the distribution have negative numbers?\n:::\n\n##\n\n::: {style=\"font-size: 2em; color: #FFFFFF;\"}\nVisualizing the p-value\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvisualise(null_dist) + \n  shade_p_value(obs_stat = obs_F, direction = \"greater\")\n```\n:::\n\n\n</br>\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week9-day1_files/figure-revealjs/unnamed-chunk-5-1.png){width=70% height=50%}\n:::\n:::\n\n\n. . .\n\n::: {style=\"font-size: 1em; color: #B6CADA;\"}\nWhat would you conclude regarding the mean minimum evaluation score and different age groups of professors?\n:::\n\n##  {background-color=\"#B6CADA\"}\n\n::: {style=\"font-size: 4em; color: #000000;\"}\n**Theory-based Methods**\n:::\n\n##\n\nUsing `aov()`\n\n\n::: {.cell}\n\n```{.r .cell-code}\naov(min_eval ~ age_cat, \n    data = evals_small)  %>% \n  tidy()\n```\n:::\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 × 6\n  term         df sumsq meansq statistic p.value\n  <chr>     <dbl> <dbl>  <dbl>     <dbl>   <dbl>\n1 age_cat       3  1.24  0.414      1.41   0.244\n2 Residuals    90 26.4   0.293     NA     NA    \n```\n:::\n:::\n\n\n. . .\n\n</br>\n\n::: {style=\"font-size: 1em; color: #B6CADA;\"}\nHow was the `statistic` calculated?\n:::\n\n. . .\n\n::: {style=\"font-size: 1em; color: #B6CADA;\"}\nWhat distribution was used to calculate the `p.value`?\n:::\n\n. . .\n\n</br>\n\n::: {style=\"font-size: 1em; color: #B6CADA;\"}\nWhat would you conclude regarding the mean minimum evaluation score and different age groups of professors?\n:::\n\n##  {background-color=\"#B6CADA\"}\n\n::: {style=\"font-size: 4em; color: #0F4C81;\"}\nDid the two methods yield different results?\n:::\n\n\n\n##\n\n::: {style=\"font-size: 4em; color: #FFFFFF;\"}\nNext...\n:::\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week9-day1_files/figure-revealjs/age-two-cat-1.png){width=70%}\n:::\n:::\n",
    "supporting": [
      "week9-day1_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    function fireSlideChanged(previousSlide, currentSlide) {\n\n      // dispatch for htmlwidgets\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for reveal\n    if (window.Reveal) {\n      window.Reveal.addEventListener(\"slidechanged\", function(event) {\n        fireSlideChanged(event.previousSlide, event.currentSlide);\n      });\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}