{
  "hash": "2f6d137bf605dd1e6b4b094e9360d08f",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"üßëüèΩ‚Äçüî¨ P-values & Hypothesis Tests\"\nformat: \n  revealjs:\n    theme: style.scss\neditor: source\n---\n\n::: {.cell}\n\n:::\n\n\n\n# Plan for the rest of the quarter\n\n## Weeks 8, 9, & 10\n\n::::::::: columns\n:::: {.column width=\"30%\"}\n::: fragment\n**Week 8**\n\n::: {.small}\n-   Dig deeper into model conditions\n-   Learn about One-Way ANOVA\n-   Compare \"visual\" model selection with p-value model selection (Stat Critique #2)\n:::\n:::\n::::\n\n:::: {.column width=\"30%\"}\n::: fragment\n**Week 9**\n\n::: {.small}\n-   Learn about simulation-based and theory-based inference for one-way ANOVA\n-   First draft of Final Project\n:::\n:::\n::::\n\n:::: {.column width=\"30%\"}\n::: fragment\n**Week 10**\n\n::: {.small}\n-   Learn about two-way ANOVA\n-   Finish Final Project (poster)\n:::\n:::\n::::\n:::::::::\n\n## Upcoming Deadlines\n\n-   Lab 4 revisions are due on Friday (May 16)\n-   Lab 3 second revisions are due on Friday (May 16)\n\n::: callout-note\n# Revision Deadlines\n\nIf you did not submit revisions by the deadline (or forgot to include your\nreflections), your assignment **is not** eligible for additional revisions.\n:::\n\n## \n\n::: {style=\"font-size: 4em; color: #000000;\"}\nyou...\n:::\n\n::: {style=\"font-size: 1.25em; color: #000000;\"}\n-   understand the importance of sampling variability\n-   know about using confidence intervals to estimate a range of plausible values for the population parameter\n-   want to know how p-values fit in\n:::\n\n##  {background-color=\"#B6CADA\"}\n\n::: {style=\"font-size: 2.5em; color: #000000;\"}\nWhat if I want to know if the population parameter differs from a specific value?\n:::\n\n. . .\n\n<center>\n\n::: {style=\"font-size: 3em; color: #0F4C81;\"}\nHypothesis test!\n:::\n\n</center>\n\n## \n\n::: {style=\"font-size: 3em; color: #000000;\"}\nHypothesis test goal:\n:::\n\n::: {style=\"font-size: 1.5em; color: #000000;\"}\nAssess how different what we saw in our data is from what could have happened if\nthe null hypothesis was true\\*\n:::\n\n. . .\n\n::: {style=\"font-size: 0.75em;\"}\n\\*For hypothesis tests, we live in an alternative universe where $H_0$ is true\n:::\n\n##  {background-color=\"#B6CADA\"}\n\n::: {style=\"font-size: 2.5em; color: #000000;\"}\nWhat are the null and alternative hypotheses for linear regression?\n:::\n\n## How can we approximate what could have happened if the null was true?\n\n. . .\n\n::: {style=\"font-size: 2em; color: #ed8402;\"}\nPermutation!\n:::\n\n## A Permutation Resample\n\n::: incremental\n-   Assumes the original sample is \"representative\" of observations in the population\n\n-   Uses the original sample to generate new samples that might have occurred if the null hypothesis was true.\n:::\n\n. . .\n\n::: {style=\"color: #34605f;\"}\nWe can use statistics from these resamples to approximate the true sampling distribution under the null!\n:::\n\n\n## Simulating what Could Have Happened Under $H_0$\n\n. . .\n\n::: small\n1.  From your original sample, separate the $x$ values from the $y$ values.\n\n::: {.fragment}\n2.  Create new ordered pairs by randomly pairing $x$ values with $y$ values (permuting the labels).\n:::\n:::\n\n. . .\n\n<center>\n\n::: {style=\"font-size: 0.8em; color: #ed8402;\"}\nThis is your permuted resample.\n:::\n\n</center>\n\n. . .\n\n::: small\n3.  Repeat this process many, many times.\n:::\n\n. . .\n\n::: small\n4.  Calculate a numerical summary (e.g., slope) for each permutation resample.\n:::\n\n. . .\n\n<center>\n\n::: {style=\"font-size: 0.8em; color: #ed8402;\"}\nThese are your permuted statistics.\n:::\n\n</center>\n\n## Permutation Distribution\n\n. . .\n\n> [*definition*: a distribution of the]{style=\"color: #000000;\"} [*permuted statistics*]{style=\"color: #e28743;\"} [from every]{style=\"color: #000000;\"} [*permuted resample*]{style=\"color: #e28743;\"}\n\n. . .\n\nDisplays the variability in the statistic that could have happened with repeated sampling, **if the null hypothesis was true**.\n\n. . .\n\n::: {style=\"color: #e28743;\"}\nApproximates the true sampling distribution under the null!\n:::\n\n## What is one similarity and one difference between a permutation distribution and a bootstrap distribution?\n\n:::::::: columns\n:::: {.column width=\"45%\"}\n::: {.fragment}\n::: {style=\"font-size: 1.5em;\"}\nSimilarity\n:::\n\n::: {.small}\nDistributions of sample statistics\n\nUse resampling to see variability\n\nApproximate a sampling distribution\n\nUse observed data\n\nAre bell shaped and symmetric\n:::\n:::\n::::\n\n::: {.column width=\"5%\"}\n:::\n\n:::: {.column width=\"45%\"}\n::: {.fragment}\n::: {style=\"font-size: 1.5em;\"}\nDifference\n:::\n\n::: {.small}\nPermutation distributions assume $H_0$ is true\n\nBootstrapping resamples with replacement\n:::\n:::\n::::\n::::::::\n\n##  {background-color=\"#B6CADA\"}\n\n</br>\n</br>\n\n::: {style=\"font-size: 2.5em; color: #000000;\"}\nWhere is a null distribution centered?\n:::\n\n# p-values\n\n. . .\n\n::: {style=\"font-size: 1.5em; color: #000000;\"}\n> Quantify how \"surprising\" what we saw in our data is, if the null hypothesis was true\n:::\n\n## \n\n::: {style=\"font-size: 2em; color: #000000;\"}\nHow do I get my p-value?\n:::\n\n. . .\n\nCompare the observed statistic with the statistics produced assuming the null hypothesis was true.\n\n. . .\n\n</br>\n\n::: {style=\"font-size: 1.25em;\"}\nA p-value summarizes the [**probability**]{style=\"color: #76b5c5;\"} of obtaining a sample statistic [as or more extreme than what we observed]{.underline}, [**if the null hypothesis was true**]{style=\"color: #76b5c5;\"}.\n:::\n\n<!-- add slides about HT decisions -->\n\n## Exploring the `hbr_maples` dataset!\n\n:::::: columns\n::: {.column width=\"40%\"}\n![](images/hbr_maples.jpg)\n:::\n\n::: {.column width=\"5%\"}\n:::\n\n::: {.column width=\"55%\"}\n`stem_length`: a number denoting the height of the seedling in millimeters\n\n`stem_dry_mass`: a number denoting the dry mass of the stem in grams\n:::\n::::::\n\n## \n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](week7-day2_files/figure-revealjs/seedlings-slr-1.png){width=960}\n:::\n:::\n\n\n\n. . .\n\n::: {style=\"font-size: 1.5em; color: #76b5c5;\"}\n**What condition do we need to be worried about?**\n:::\n\n## In this sample of 359 sugar maples...\n\n\n\n::: {.cell}\n\n:::\n\n\n\n$$\\widehat{\\text{stem dry mass}} = -0.043 + 0.001 \\times \\text{stem length}$$\n\n. . .\n\n</br>\n\n::: {style=\"font-size: 1.5em;\"}\nWhat slope could have happened if there was **no** relationship between stem length and stem dry mass?\n:::\n\n## Generating a permuted resample and calculating permuted statistics\n\n</br>\n\n. . .\n\n**Step 1:** `specify()` your response and explanatory variables\n\n. . .\n\n**Step 2:** `hypothesize()` what would happen under the null\n\n. . .\n\n**Step 3:** `generate()` permuted resamples\n\n. . .\n\n**Step 4:** `calculate()` the statistic of interest\n\n## Step 1: Specify your variables!\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhbr_maples %>% \n  specify(response = stem_dry_mass,\n          explanatory = stem_length)\n```\n:::\n\n\n\n## Step 2: State your hypothesis!\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhbr_maples %>% \n  specify(response = stem_dry_mass,\n          explanatory = stem_length) %>% \n  hypothesize(null = \"independence\")\n```\n:::\n\n\n\n</br>\n\n`\"independence\"` -- the assumed relationship between the explanatory and response variables under the null hypothesis\n\n. . .\n\n::: callout-tip\n# Independence of variables\n\nNote! This is different from assuming your observations are independent!\n:::\n\n## Step 3: Generate your resamples!\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhbr_maples %>% \n  specify(response = stem_dry_mass,\n          explanatory = stem_length) %>% \n  hypothesize(null = \"independence\") %>% \n  generate(reps = 1000, type = \"permute\")\n```\n:::\n\n\n\n. . .\n\n</br>\n\n:::::: columns\n::: {.column width=\"45%\"}\n`reps` -- the number of resamples you want to generate\n:::\n\n::: {.column width=\"5%\"}\n:::\n\n::: {.column width=\"45%\"}\n`\"permute\"` -- the method that should be used to generate the new samples\n:::\n::::::\n\n## Step 4: Calculate your statistics!\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhbr_maples %>% \n  specify(response = stem_dry_mass,\n          explanatory = stem_length) %>% \n  hypothesize(null = \"independence\") %>% \n  generate(reps = 1000, type = \"permute\") %>% \n  calculate(stat = \"slope\") \n```\n:::\n\n\n\n## The final product\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvisualise(null_dist) + \n  labs(x = \"Permuted Slope Statistic\")\n```\n\n::: {.cell-output-display}\n![](week7-day2_files/figure-revealjs/null-dist-1.png){width=70%}\n:::\n:::\n\n\n\n## Is our observed statistic unlikely if the null hypothesis was true?\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nvisualise(null_dist) +\n  xlim(c(-0.0011, 0.0011)) +\n  shade_p_value(obs_stat = obs_slope, \n                direction = \"two-sided\") +\n  labs(x = \"Permuted Slope Statistic\")\n```\n\n::: {.cell-output-display}\n![](week7-day2_files/figure-revealjs/null-dist-with-obs-slope-1.png){width=960}\n:::\n:::\n\n\n\n## Two-sided Alternative\n\nIf our alternative hypothesis is two-sided, what is missing from the plot?\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](week7-day2_files/figure-revealjs/null-dist-with-obs-slope-2-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n\n## The p-value is...\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nget_p_value(null_dist, \n            obs_stat = obs_slope, \n            direction = \"two-sided\") \n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Please be cautious in reporting a p-value of 0. This result is an approximation\nbased on the number of `reps` chosen in the `generate()` step.\n‚Ñπ See `get_p_value()` (`?infer::get_p_value()`) for more information.\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 √ó 1\n  p_value\n    <dbl>\n1       0\n```\n\n\n:::\n:::\n\n\n\n. . .\n\n::: {style=\"font-size: 0.75em; color: #ed8402;\"}\nWhy did we get a warning?\n:::\n\n## How do we interpret a p-value?\n\n. . .\n\nNeed:\n\n-   probability of what we saw in the data\n-   assuming the null hypothesis is true\n\n. . .\n\n> The probability of observing a slope statistic (for the relationship between stem length and stem dry mass) as or more extreme than what was observed is less than 1 in 1000, if there was no relationship between a sugar maple's stem length and stem dry mass.\n\n## Decision versus Conclusion\n\n::: columns\n::: {.column width=\"47%\"}\n[**Decision**]{style=\"font-size: 1.5em;\"}\n\n::: {.fragment}\nAt an $\\alpha$ of 0.05 and a p-value of less than 0.001, we would reject $H_0$.\n:::\n:::\n\n::: {.column width=\"5%\"}\n:::\n\n::: {.column width=\"47%\"}\n::: {.fragment}\n[**Conclusion**]{style=\"font-size: 1.5em;\"}\n\nWe conclude that there is a linear relationship between the stem length and stem\ndry mass for sugar maples in the Hubbard Brook Experimental Forest. \n:::\n:::\n:::\n\n<!-- add slide about why we choose 0.05 versus 0.01 -->\n\n##  {background-color=\"#B6CADA\"}\n\n</br>\n</br>\n\n::: {style=\"font-size: 2.5em; color: #000000;\"}\nIf I were to make a confidence interval for $\\beta_1$ would I expect it to\ncontain 0? \n:::\n\n# Lab 7\n\n## Today's Data\n\n::: columns\n::: {.column width=\"65%\"}\n::: small\n> \"One of the best-known patterns in biogeography is Bergmann‚Äôs rule. It\n> predicts that organisms at higher latitudes are larger than ones at lower\n> latitudes. Many organisms follow Bergmann‚Äôs rule, including insects, birds, \n> snakes, marine invertebrates, and > terrestrial and marine mammals. What\n> drives Bergmann‚Äôs rule? Bergmann originally hypothesized that the organisms\n> he studied, birds, were larger in the colder, higher latitudes due to\n> heat-conservation. But the heat-conservation hypothesis relies on internal\n> regulation of body temperature and therefore \n> [does not apply to ectotherms]{.underline}, some of which also follow\n> Bergmann‚Äôs rule.\"\n:::\n\n:::\n\n::: {.column width=\"5%\"}\n:::\n\n::: {.column width=\"30%\"}\n![](images/fiddler-crab.jpg){fig-alt=\"A fiddler crab on wet, muddy ground. The crab has one large, pale claw and one much smaller claw, with a shiny carapace and stalked eyes.\"}\n:::\n:::\n\n## Research Question\n\n</br> </br>\n\n::: centered\n> What is the relationship between a Fiddler Crab's body size (carapace width)\n> and the latitude in which it lives?\n:::\n\n## Accessing Lab 7\n\n::: {.small}\n**Step 1:** Both members of your group need to join your **group** workspace \n(link posted in the Announcements of your group)\n:::\n\n. . .\n\n::: {.small}\n::: {.callout-note}\n# Roles\nYou will be trading off roles in the middle of the lab! One person will do the \nhypothesis test coding and one person will do the confidence interval coding! \n:::\n:::\n\n. . .\n\n::: {.small}\n**Step 2:** One member of your group needs to [follow these instructions to copy the Lab 7 project into your group's workspace](https://scribehow.com/shared/Copying_the_Lab_to_Your_Group_Workspace__Q3uBlpp_TBWRZzVJmCjbsA)\n:::\n\n. . .\n\n::: {.small}\n**Step 3:** Both members open the Lab 7 assignment in your group workspace!\n:::\n\n. . .\n\n::: {.small}\n**Step 4:** Follow the [final instructions](https://scribehow.com/shared/Enabling_Collaborative_Editing_in_Posit_Cloud__ylk0d72IQfipwem_lfynlw) to activate collaborative editing in the document. \n:::\n\n::: {.small}\n::: {.callout-important}\n# Source Editor\n\nYou need to be in the source editor (not the pretty one) to use collaborative editing! \n:::\n:::\n\n",
    "supporting": [
      "week7-day2_files/figure-revealjs"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}