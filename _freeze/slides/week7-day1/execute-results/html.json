{
  "hash": "3a2059c7de808463b77db6c6d24b23e3",
  "result": {
    "markdown": "---\ntitle: \"Sampling Variability -- The Heart of Inference\"\nformat: \n  revealjs:\n    embed-resources: true\neditor: visual\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.2     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.2     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.1     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nlibrary(infer)\nlibrary(scales)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'scales'\n\nThe following object is masked from 'package:purrr':\n\n    discard\n\nThe following object is masked from 'package:readr':\n\n    col_factor\n```\n:::\n\n```{.r .cell-code}\nlibrary(stringr)\nlibrary(openintro)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nLoading required package: airports\nLoading required package: cherryblossom\nLoading required package: usdata\n```\n:::\n:::\n\n\n::: {style=\"font-size: 3em; color: #000000;\"}\nSalaries of football coaches\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nknitr::include_graphics(here::here(\"slides\", \n                                   \"images\", \n                                   \"football.png\"))\n```\n\n::: {.cell-output-display}\n![](images/football.png){width=644}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncoaches <- read_csv(here::here(\"slides\", \n                               \"data\", \n                               \"cu_csu_coaches.csv\")\n                    ) %>% \n  filter('Base Pay' > 0)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 252 Columns: 11\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (4): Employee Name, Job Title, Notes, Agency\ndbl (6): Base Pay, Overtime Pay, Other Pay, Benefits, Total Pay & Benefits, ...\nlgl (1): Status\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\ncsu <- coaches %>% \n  filter(Agency == \"California State University\")\n\nuc <- coaches %>% \n  filter(Agency == \"University of California\")\n```\n:::\n\n\n## \n\n::: {style=\"font-size: 3em; color: #000000;\"}\nSampling Strategies\n:::\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](week7-day1_files/figure-html/pop-to-sample-1.png){fig-align='center' width=672}\n:::\n:::\n\n\n## \n\n::: {style=\"font-size: 2.5em; color: #000000;\"}\nWhat types of samples could we collect? Are some methods \"better\" than other methods?\n:::\n\n## \n\n::: {style=\"font-size: 2em; color: #000000;\"}\nAt your table...\n:::\n\n::: columns\n::: {.column width=\"45%\"}\n::: {style=\"font-size: 2em; color: #000000;\"}\n**First**\n:::\n\n-   each person samples 10 salaries\n-   calculate the median\n:::\n\n::: {.column width=\"5%\"}\n:::\n\n::: {.column width=\"45%\"}\n::: {style=\"font-size: 2em; color: #000000;\"}\n**Then**\n:::\n\n-   calculate the median of all 25 salaries\n:::\n:::\n\n##  {background-color=\"#B6CADA\"}\n\n::: {style=\"font-size: 2em; color: #000000;\"}\nEach table has a sample of 25 UC & CSU coach salaries.\n:::\n\n. . .\n\n</br>\n\nWould you feel comfortable inferring that the median salary of your sample is close to the median salary of *all* UC & CSU coaches?\n\n</br>\n\n<center>\n\nWhy or why not?\n\n## \n\n::: {style=\"font-size: 3em; color: #0F4C81;\"}\n**Why sample more than once?**\n:::\n\n. . .\n\nVariability is a central focus of the discipline of ***Statistics***!\n\n. . .\n\nMaking decisions based on limited information is uncomfortable!\n\n. . .\n\n> You likely weren't willing to infer the population median salary from your sample!\n\n##  {background-color=\"#B6CADA\"}\n\n::: {style=\"font-size: 2em; color: #000000;\"}\nSampling Framework\n:::\n\n*population* -- collection of observations / individuals we are interested in\n\n*population parameter* -- numerical summary about the population that is unknown but you wish you knew\n\n. . .\n\n</br>\n\n*sample* -- a collection of observations from the population\n\n*sample statistic* -- a summary statistic computed from a sample that *estimates* the unknown population parameter.\n\n## \n\n::: {style=\"font-size: 2em; color: #000000;\"}\nStatistical Inference\n:::\n\nThere were 252 \"Head Coaches\" at University of California and California State Universities in 2019 (that satisfied my search criteria)\n\n</br>\n\n::: columns\n::: {.column width=\"45%\"}\n**Median salary for all 252 coaches**\n\n$137,619\n:::\n\n::: {.column width=\"5%\"}\n:::\n\n::: {.column width=\"45%\"}\nInferring information from your sample onto the population is called **statistical inference**.\n:::\n:::\n\n## \n\n::: {style=\"font-size: 2em; color: #000000;\"}\nStatistical Inference Reasoning\n:::\n\n::: incremental\n-   If the sampling is done at random\n-   the sample is representative of the population\n-   any result based on the sample can generalize to the population\n-   the point estimate is a \"good guess\" of the unknown population parameter\n:::\n\n##  {background-color=\"#B6CADA\"}\n\n</br> </br>\n\n::: {style=\"font-size: 2em; color: #000000;\"}\nShouldn't one random sample be enough then? Isn't that what we use to make confidence intervals and do hypothesis tests?\n:::\n\n## \n\n::: {style=\"font-size: 2em; color: #000000;\"}\nVirtual Sampling\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"false\"}\nrep_sample_n(coaches, \n             size = 25, \n             reps = 1, \n             replace = TRUE)\n```\n:::\n\n\n</br>\n\n::: {style=\"font-size: 0.65em; color: #000000;\"}\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Employee Name </th>\n   <th style=\"text-align:left;\"> Job Title </th>\n   <th style=\"text-align:right;\"> Total Pay &amp; Benefits </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> David Bradley Kreutzkamp </td>\n   <td style=\"text-align:left;\"> Head Coach 5 </td>\n   <td style=\"text-align:right;\"> 105683.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Daniel Dykes </td>\n   <td style=\"text-align:left;\"> Head Coach 5 </td>\n   <td style=\"text-align:right;\"> 540000.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Daniel Conners </td>\n   <td style=\"text-align:left;\"> Head Coach 5 </td>\n   <td style=\"text-align:right;\"> 156181.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Lauren Beth Nadler </td>\n   <td style=\"text-align:left;\"> Head Coach 5 </td>\n   <td style=\"text-align:right;\"> 44714.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Richard A Gallien </td>\n   <td style=\"text-align:left;\"> HEAD COACH - 12 MONTH </td>\n   <td style=\"text-align:right;\"> 103189.9 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Gregory L Kamansky </td>\n   <td style=\"text-align:left;\"> HEAD COACH - 12 MONTH </td>\n   <td style=\"text-align:right;\"> 198151.7 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n\n<center>\n\n$\\vdots$\n\n##  {background-color=\"#B6CADA\"}\n\n::: {style=\"font-size: 2em; color: #000000;\"}\nDistribution of 1000 medians from samples of 25 coaches\n:::\n\n\n::: {.cell hash='week7-day1_cache/html/samps-of-different-sizes_7df7f55cee69a1ab6bb9dd3ce475ead1'}\n\n```{.r .cell-code}\nvirtual_samples25 <- coaches %>% \n  rep_sample_n(size = 25, reps = 1000)\n\nvirtual_med25 <- virtual_samples25 %>% \n  group_by(replicate) %>% \n  summarize(median = median(`Total Pay & Benefits`)) %>% \n  mutate(samps = \"25\")\n\nvirtual_samples50 <- coaches %>% \n  rep_sample_n(size = 50, reps = 1000)\n\nvirtual_med50 <- virtual_samples50 %>% \n  group_by(replicate) %>% \n  summarize(median = median(`Total Pay & Benefits`)) %>% \n  mutate(samps = \"50\")\n\nvirtual_samples100 <- coaches %>% \n  rep_sample_n(size = 100, reps = 1000)\n\nvirtual_med100 <- virtual_samples100 %>% \n  group_by(replicate) %>% \n  summarize(median = median(`Total Pay & Benefits`)) %>% \n  mutate(samps = \"100\")\n\nmaster_samples <- bind_rows(virtual_med25, \n                            virtual_med50, \n                            virtual_med100) \n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nmaster_samples %>% \n filter(samps == \"50\") %>% \n  ggplot(mapping = aes(x = median)) + \n  geom_histogram(binwidth = 6500, color = \"white\") + \n  scale_x_continuous(labels = scales::dollar_format()) +\n  labs(x = \"Median Salary\")\n```\n\n::: {.cell-output-display}\n![](week7-day1_files/figure-html/samp-25-plot-1.png){width=60%}\n:::\n:::\n\n\n## \n\n::: {style=\"font-size: 2em; color: #000000;\"}\nSampling Distributions\n:::\n\n-   Visualize the effect of sampling variation on the distribution of any point estimate\n    -   In this case, the sample median\n-   We can use sampling distributions to make statements about what values we can typically expect.\n\n. . .\n\n<center>\n\nBe careful! A **sampling distribution** is different from a *sample's distribution*!\n\n##  {background-color=\"#B6CADA\"}\n\n::: {style=\"font-size: 2em; color: #000000;\"}\nDistributions of 1000 medians from different sample sizes\n:::\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nmaster_samples %>% \n  mutate(samps = factor(samps, \n                        levels = c(\"25\", \"50\", \"100\")\n                        )\n         ) %>% \n  ggplot(mapping = aes(x = median)) + \n  geom_histogram(binwidth = 6500, color = \"white\") + \n  facet_wrap(~samps) + \n  scale_x_continuous(labels = scales::dollar_format()) +\n  labs(x = \"Median Salary\") +\n  theme(axis.text.x = element_text(hjust = 1, \n                                   vjust = 1, \n                                   angle = 45))\n```\n\n::: {.cell-output-display}\n![](week7-day1_files/figure-html/samp-plots-1.png){fig-align='center' width=672}\n:::\n:::\n\n\n<center>\n\n**What differences do you see?**\n\n## \n\n::: {style=\"font-size: 1.75em; color: #000000;\"}\nVariability for Different Sample Sizes\n:::\n\n::: {style=\"font-size: 0.85em; color: #000000;\"}\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Sample Size </th>\n   <th style=\"text-align:right;\"> Standard Error of Median </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> 25 </td>\n   <td style=\"text-align:right;\"> 19342.081 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 50 </td>\n   <td style=\"text-align:right;\"> 12459.358 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 100 </td>\n   <td style=\"text-align:right;\"> 8279.311 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n\n. . .\n\n::: {style=\"font-size: 0.85em; color: #000000;\"}\n-   Standard errors quantify the variability of point estimates\n\n-   As a general rule, as sample size increases, the standard error decreases.\n:::\n\n. . .\n\n<center>\n\n::: {style=\"font-size: 0.85em; color: #000000;\"}\nCareful! There are important differences between **standard errors** and *standard deviations*.\n:::\n\n##  {background-color=\"#B6CADA\"}\n\n::: {style=\"font-size: 2em; color: #000000;\"}\nA good guess?\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmaster_samples %>% \n  mutate(samps = factor(samps, \n                        levels = c(\"25\", \"50\", \"100\")\n                           )\n         ) %>% \n  ggplot(mapping = aes(x = median)) + \n  geom_histogram(binwidth = 6500, color = \"white\") + \n  geom_vline(xintercept = median(coaches$`Total Pay & Benefits`), \n             color = \"red\", \n             linewidth = 1.5) +\n  facet_wrap(~samps, ) + \n  scale_x_continuous(labels = scales::dollar_format()) +\n  labs(x = \"Median Salary\")\n```\n\n::: {.cell-output-display}\n![](week7-day1_files/figure-html/samp-plots-true-value-1.png){width=70%}\n:::\n:::\n\n\n## \n\n::: {style=\"font-size: 2em; color: #000000;\"}\nPrecision & Accuracy\n:::\n\n::: columns\n::: {.column width=\"55%\"}\n![](images/accuracy_vs_precision.jpg)\n:::\n\n::: {.column width=\"5%\"}\n:::\n\n::: {.column width=\"40%\"}\n-   Random sampling ensures our point estimates are accurate.\n\n</br>\n\n-   Larger sample sizes ensure our point estimates are precise.\n:::\n:::\n\n##  {background-color=\"#B6CADA\"}\n\n::: {style=\"font-size: 4em; color: #000000;\"}\nSampling Activity!\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}