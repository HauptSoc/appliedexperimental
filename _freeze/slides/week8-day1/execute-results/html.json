{
  "hash": "15b0696e0155f7d77f0fbe8dc990390c",
  "result": {
    "markdown": "---\ntitle: \"üßëüèΩ‚Äçüî¨ P-values & Hypothesis Tests\"\nformat: \n  revealjs:\n    theme: dark\n    embed-resources: true\n    standalone: true\neditor: visual\n---\n\n::: {.cell}\n\n:::\n\n\n::: {style=\"font-size: 3em; color: #FFFFFF;\"}\nWeeks 8, 9, & 10\n:::\n\n::: columns\n::: {.column width=\"30%\"}\n::: fragment\n**Week 8**\n\n-   Learn about hypothesis testing for slope\n-   Critique use of p-values for statistical arguments\n:::\n:::\n\n::: {.column width=\"30%\"}\n::: fragment\n**Week 9**\n\n-   Learn about one-way ANOVA\n-   Get started on first portion of Final Project\n:::\n:::\n\n::: {.column width=\"30%\"}\n::: fragment\n**Week 10**\n\n-   Learn about two-way ANOVA\n-   Finish Final Project\n:::\n:::\n:::\n## \n\n::: {style=\"font-size: 4em; color: #FFFFFF;\"}\nyou...\n:::\n\n::: {style=\"font-size: 1.25em; color: #FFFFFF;\"}\n-   understand the importance of sampling variability\n-   know about using confidence intervals to estimate a range of plausible values for the population parameter\n-   want to know how p-values fit in\n:::\n\n##  {background-color=\"#B6CADA\"}\n\n::: {style=\"font-size: 2.5em; color: #000000;\"}\nWhat if I want to know if the population parameter differs from a specific value?\n:::\n\n. . .\n\n<center>\n\n::: {style=\"font-size: 3em; color: #0F4C81;\"}\nHypothesis test!\n:::\n\n</center>\n\n## \n\n::: {style=\"font-size: 3em; color: #FFFFFF;\"}\nGoal:\n:::\n\n::: {style=\"font-size: 1.5em; color: #FFFFFF;\"}\nAssess how different what we saw in our data is from what could have happened if the null hypothesis was true\n:::\n\n##  {background-color=\"#B6CADA\"}\n\n::: {style=\"font-size: 3em; color: #000000;\"}\nPermutation Distribution\n:::\n\n. . .\n\n::: {style=\"font-size: 1.25em; color: #000000;\"}\nUses the original sample to generate new samples that might have occurred if the null hypothesis was true.\n:::\n\n. . .\n\n::: {style=\"font-size: 1.25em; color: #0F4C81;\"}\nWe can use the statistics from these samples to approximate the true sampling distribution under the null!\n:::\n\n## \n\n::: {style=\"font-size: 2.5em; color: #FFFFFF;\"}\n**What could have happened if the null was true?**\n:::\n\n. . .\n\n::: {style=\"font-size: 0.75em; color: #FFFFFF;\"}\nLike before, we are interested in knowing how a statistic varies from sample to sample.\n:::\n\n. . .\n\n::: {style=\"font-size: 0.75em; color: #FFFFFF;\"}\nAgain, knowing a statistic's behavior helps us make better / more informed decisions!\n:::\n\n. . .\n\n::: {style=\"font-size: 0.75em; color: #FFFFFF;\"}\nThis helps us know what statistics are more or less likely to occur [if the null hypothesis is true]{style=\"color: #e28743\"}.\n:::\n\n##  {background-color=\"#B6CADA\"}\n\n::: {style=\"font-size: 4em; color: #000000;\"}\np-values\n:::\n\n. . .\n\n::: {style=\"font-size: 1.5em; color: #000000;\"}\nQuantify how \"surprising\" what we saw in our data is, if the null hypothesis was true\n:::\n\n## \n\n::: {style=\"font-size: 3em; color: #FFFFFF;\"}\n**Permutation Resamples**\n:::\n\n. . .\n\nFrom your original sample, separate the $x$ values from the $y$ values.\n\n. . .\n\nCreate new ordered pairs by randomly pairing $x$ values with $y$ values (permuting the labels).\n\n. . .\n\n<center>\n\n::: {style=\"font-size: 1.5em; color: #76b5c5;\"}\n**This is your *permuted resample*!**\n:::\n\n</center>\n\n## \n\n::: {style=\"font-size: 3em; color: #FFFFFF;\"}\n**Permuted Statistics**\n:::\n\nRepeat this process many, many times.\n\n. . .\n\nCalculate a numerical summary (e.g., mean, median) for each permuted resample.\n\n. . .\n\n<center>\n\n::: {style=\"font-size: 1.5em; color: #76b5c5;\"}\n**These are your *permuted statistics*!**\n:::\n\n</center>\n\n##  {background-color=\"#B6CADA\"}\n\n::: {style=\"font-size: 3em; color: #000000;\"}\nPermutation Distribution\n:::\n\n. . .\n\n> [*definition*: a distribution of the]{style=\"color: #000000;\"} [*permuted statistics*]{style=\"color: #e28743;\"} [from every]{style=\"color: #000000;\"} [*permuted resample*]{style=\"color: #e28743;\"}\n\n. . .\n\nDisplays the variability in the statistic that could have happened with repeated sampling, **if the null hypothesis was true**.\n\n. . .\n\n::: {style=\"color: #e28743;\"}\nApproximates the true sampling distribution under the null!\n:::\n\n## \n\n::: {style=\"font-size: 2em; color: #FFFFFF;\"}\nHow do I get my p-value?\n:::\n\n. . .\n\n::: {style=\"font-size: 1.25em; color: #e28743;\"}\nWe compare the observed statistic with the statistics produced assuming the null hypothesis was true.\n:::\n\n\n. . .\n\n</br>\n\n::: {style=\"font-size: 1.25em;\"}\nA p-value summarizes the [**probability**]{style=\"color: #76b5c5;\"} of obtaining a sample statistic [as or more extreme than what we observed]{.underline}, [**if the null hypothesis was true**]{style=\"color: #76b5c5;\"}.\n:::\n\n## \n\n::: {style=\"font-size: 3em; color: #FFFFFF;\"}\nYour turn!\n:::\n\n::: {style=\"font-size: 1.5em; color: #FFFFFF;\"}\n**What is one similarity and one difference between**\n:::\n\n::: columns\n::: {.column width=\"45%\"}\n::: {style=\"font-size: 1.5em; color: #76b5c5;\"}\na permutation distribution\n:::\n:::\n\n::: {.column width=\"5%\"}\n:::\n\n::: {.column width=\"45%\"}\n::: {style=\"font-size: 1.5em; color: #e28743;\"}\na bootstrap distribution\n:::\n:::\n:::\n\n## \n\n::: {style=\"font-size: 2em; color: #FFFFFF;\"}\nExploring the `hbr_maples` dataset!\n:::\n\n::: columns\n::: {.column width=\"40%\"}\n![](images/hbr_maples.jpg)\n:::\n\n::: {.column width=\"5%\"}\n:::\n\n::: {.column width=\"55%\"}\n`stem_length`: a number denoting the height of the seedling in millimeters\n\n`stem_dry_mass`: a number denoting the dry mass of the stem in grams\n:::\n:::\n\n## \n\n\n::: {.cell output-location='slide'}\n::: {.cell-output-display}\n![](week8-day1_files/figure-revealjs/seedlings-slr-1.png){width=960}\n:::\n:::\n\n\n. . .\n\n::: {style=\"font-size: 1.5em; color: #76b5c5;\"}\n**What condition do we need to be worried about?**\n:::\n\n## \n\n::: {style=\"font-size: 2em; color: #FFFFFF;\"}\nModeling the relationship between stem length and stem dry mass\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlength_mass_lm <- lm(stem_dry_mass ~ stem_length, data = hbr_maples)\n\nget_regression_table(length_mass_lm)\n```\n:::\n\n\n</br>\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> term </th>\n   <th style=\"text-align:right;\"> estimate </th>\n   <th style=\"text-align:right;\"> std_error </th>\n   <th style=\"text-align:right;\"> statistic </th>\n   <th style=\"text-align:right;\"> p_value </th>\n   <th style=\"text-align:right;\"> lower_ci </th>\n   <th style=\"text-align:right;\"> upper_ci </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> intercept </td>\n   <td style=\"text-align:right;\"> -0.043 </td>\n   <td style=\"text-align:right;\"> 0.008 </td>\n   <td style=\"text-align:right;\"> -5.470 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> -0.058 </td>\n   <td style=\"text-align:right;\"> -0.027 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> stem_length </td>\n   <td style=\"text-align:right;\"> 0.001 </td>\n   <td style=\"text-align:right;\"> 0.000 </td>\n   <td style=\"text-align:right;\"> 11.425 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.001 </td>\n   <td style=\"text-align:right;\"> 0.001 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n##  {background-color=\"#B6CADA\"}\n\n::: {style=\"font-size: 3em; color: #000000;\"}\nHow do I know what is likely to happen if the null is true?\n:::\n\n. . .\n\n<center>\n\n::: {style=\"font-size: 3em; color: #0F4C81;\"}\nPermuting!\n:::\n\n</center>\n\n## \n\n::: {style=\"font-size: 2em; color: #FFFFFF;\"}\n**Generating a permuted resample**\n:::\n\n. . .\n\n**Step 1:** `specify()` your response and explanatory variables\n\n. . .\n\n**Step 2:** `hypothesize()` what would happen under the null\n\n. . .\n\n**Step 3:** `generate()` permuted resamples\n\n. . .\n\n**Step 4:** `calculate()` the statistic of interest\n\n## \n\n::: {style=\"font-size: 2em; color: #FFFFFF;\"}\nDeclare your variables!\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhbr_maples %>% \n  specify(response = stem_dry_mass,\n          explanatory = stem_length)\n```\n:::\n\n\n## \n\n::: {style=\"font-size: 2em; color: #FFFFFF;\"}\nState your hypothesis!\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhbr_maples %>% \n  specify(response = stem_dry_mass,\n          explanatory = stem_length) %>% \n  hypothesize(null = \"independence\")\n```\n:::\n\n\n</br>\n\n`\"independence\"` -- the assumed relationship between the explanatory and response variables under the null hypothesis\n\n. . .\n\n</br>\n\n::: callout-tip\n# Independence of variables\n\nNote! This is different from assuming your observations are independent!\n:::\n\n## \n\n::: {style=\"font-size: 2em; color: #FFFFFF;\"}\nGenerate your resamples!\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhbr_maples %>% \n  specify(response = stem_dry_mass,\n          explanatory = stem_length) %>% \n  hypothesize(null = \"independence\") %>% \n  generate(reps = 1000, type = \"permute\")\n```\n:::\n\n\n. . .\n\n</br>\n\n::: columns\n::: {.column width=\"45%\"}\n`reps` -- the number of resamples you want to generate\n:::\n\n::: {.column width=\"5%\"}\n:::\n\n::: {.column width=\"45%\"}\n`\"permute\"` -- the method that should be used to generate the new samples\n:::\n:::\n\n## \n\n::: {style=\"font-size: 2em; color: #FFFFFF;\"}\n`infer` will let you know if you missed something!\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhbr_maples %>% \n  specify(response = stem_dry_mass,\n          explanatory = stem_length) %>% \n  generate(reps = 1000, type = \"permute\")\n```\n:::\n\n\n</br>\n\n```         \nError: Permuting should be done only when doing independence hypothesis test. See `hypothesize()`.\nIn addition: Warning message:\nYou have given `type = \"permute\"`, but `type` is expected to be `\"bootstrap\"`.\nThis workflow is untested and the results may not mean what you think they mean. \n```\n\n## \n\n::: {style=\"font-size: 2em; color: #FFFFFF;\"}\nCalculate your statistics!\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhbr_maples %>% \n  specify(response = stem_dry_mass,\n          explanatory = stem_length) %>% \n  hypothesize(null = \"independence\") %>% \n  generate(reps = 1000, type = \"permute\") %>% \n  calculate(stat = \"slope\") \n```\n:::\n\n\n##  {background-color=\"#B6CADA\"}\n\n::: {style=\"font-size: 3em; color: #000000;\"}\nYour turn!\n:::\n\n-   Why is the `hypothesize()` function used to make a null distribution but not for a bootstrap distribution?\n\n-   What does the `null = \"independence\"` input in `hypothesize()` mean? What is it assuming about the variables declared in the `specify()` step?\n\n## \n\n::: {style=\"font-size: 2em; color: #FFFFFF;\"}\nThe final product\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvisualise(null_dist) + \n  labs(x = \"Permuted Slope Statistic for Linear Relationship between \\nStem Length and Stem Dry Mass\")\n```\n\n::: {.cell-output-display}\n![](week8-day1_files/figure-revealjs/null-dist-1.png){width=70%}\n:::\n:::\n\n\n## \n\n::: {style=\"font-size: 2.5em; color: #FFFFFF;\"}\nIs our observed statistic unlikely under the null?\n:::\n\n</br>\n\n. . .\n\n::: {style=\"font-size: 1.5em; color: #FFFFFF;\"}\n**Step 1:** Calculate observed statistic\n\n**Step 2:** Find observed statistic on permutation distribution\n:::\n\n## \n\n::: {style=\"font-size: 2em; color: #FFFFFF;\"}\nFinding the observed statistic\n:::\n\n</br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nobs_slope <- hbr_maples %>% \n  specify(response = stem_dry_mass,\n          explanatory = stem_length) %>% \n  calculate(stat = \"slope\") \n```\n:::\n\n\n## \n\n\n::: {.cell}\n\n```{.r .cell-code}\nvisualise(null_dist) +\n  shade_p_value(obs_stat = obs_slope, direction = \"two-sided\") +\n  labs(x = \"Permuted Slope Statistic for Linear Relationship between \\nStem Length and Stem Dry Mass\")\n```\n\n::: {.cell-output-display}\n![](week8-day1_files/figure-revealjs/null-dist-with-obs-slope-1.png){width=90%}\n:::\n:::\n\n\n. . .\n\n::: {style=\"font-size: 1em; color: #e28743;\"}\n**Is our observed statistic unlikely to have happened if the null hypothesis was true?**\n:::\n\n##  {background-color=\"#B6CADA\"}\n\n::: {style=\"font-size: 2em; color: #000000;\"}\nThe p-value is...\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nget_p_value(null_dist, \n            obs_stat = obs_slope, \n            direction = \"two-sided\") \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Please be cautious in reporting a p-value of 0. This result is an\napproximation based on the number of `reps` chosen in the `generate()` step.\nSee `?get_p_value()` for more information.\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 √ó 1\n  p_value\n    <dbl>\n1       0\n```\n:::\n:::\n\n\n. . .\n\n</br>\n\n::: {style=\"font-size: 1.5em; color: #ed8402;\"}\nWhy did we get a warning?\n:::\n\n## \n\n::: {style=\"font-size: 2em; color: #FFFFFF;\"}\nHow do we interpret a p-value?\n:::\n\n. . .\n\nNeed: \n\n- probability of what we saw in the data\n- assuming the null hypothesis is true\n\n. . .\n\n> [\"The probability of observing a slope statistic (for the relationship between stem length and stem dry mass) as or more extreme than what was observed is less than 1 in 1000, if there was no relationship between a sugar maple's stem length and stem dry mass.]{style=\"color: #D4D4D4;\"}\n\n## \n\n::: {style=\"font-size: 2em; color: #FFFFFF;\"}\nClassic interpretation mistakes\n:::\n\n</br>\n\n> \"The probability that the null hypothesis is true is about 0%.\"\n\n</br>\n\n</br>\n\n> \"The probability that the data were produced by random chance alone is about 0%.\"\n\n##  {background-color=\"#B6CADA\"}\n\n::: {style=\"font-size: 3em; color: #000000;\"}\nExit ticket\n:::\n\n::: {style=\"font-size: 2em; color: #000000;\"}\nSuppose we had obtained a p-value of 0.6 for the relationship between stem length and stem dry mass.\n:::\n\n</br>\n\n::: {style=\"font-size: 2em; color: #0F4C81;\"}\nHow would you interpret this value?\n:::\n",
    "supporting": [
      "week8-day1_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n"
      ],
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}