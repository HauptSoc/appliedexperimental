{
  "hash": "24042bb9db186a8728376969ac00fb59",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Lab 3: Incorporating Categorical Variables\"\nauthor: \"Your group's names here!\"\nformat: html\neditor: source\nembed-resources: true\nexecute: \n  echo: true\n  eval: false\n  message: false\n  warning: false\n---\n\n\n\n\n\n# Getting started\n\n## R Resources\n\nThe Resource Manager should pull up the R resources from Canvas. Specifically,\nthe \"cheat sheets\" from Weeks 2 & 3 will be very helpful while completing this\nassignment.\n\n## Load Packages\n\nIn this lab, we will explore and visualize the data using packages housed in the **tidyverse** suite of packages.\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n## Package for ggplot and dplyr tools\nlibrary(tidyverse)\n\n## Package for ecological data\nlibrary(lterdatasampler)\n\n## Package for density ridge plots\nlibrary(ggridges)\n```\n:::\n\n\n\n\n\n## The data\n\nIn this lab we will work with data from the H.J. Andrews Experimental Forest.\nThe following is a description of the data:\n\n> Populations of West Slope cutthroat trout (Onchorhyncus clarki clarki) in two standard reaches of Mack Creek in the H.J. Andrews Experimental Forest have been monitored since 1987. Monitoring of Pacific Giant Salamanders, Dicamptodon tenebrosus began in 1993. The two standard reaches are in a section of clearcut forest (ca. 1963) and an upstream 500 year old coniferous forest. Sub-reaches are sampled with 2-pass electrofishing, and all captured vertebrates are measured and weighed. Additionally, a set of channel measurements are taken with each sampling. This study constitutes one of the longest continuous records of salmonid populations on record.\n\nFirst, we'll view the `and_vertebrates` dataframe where these data are stored.\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nand_vertebrates\n```\n:::\n\n\n\n\n\n## Exploring the Dataset\n\nThe **codebook** (description of the variables) can be accessed by pulling up\nthe help file by typing a `?` before the name of the dataset:\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n?and_vertebrates\n```\n:::\n\n\n\n\n\n**Question 1 -- How large is the `and_vertebrates` dataset? (i.e. How many rows and columns does the dataset have?)**\n\n\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n\n**Question 2 -- Are there categorical variables in the dataset? If so, what are their names?** *Hint: What data types are categorical variables stored as?*\n\n\n## Accessing the Levels of a Variable\n\nThe `species` variable refers to the species of the animal which was captured.\nYou can use the `distinct()` function to access the distinct values of a\ncategorical variable (e.g., `distinct(nycflights, carrier)`). Notice the first\ninput is the name of the dataset and the second input is the name of the\ncategorical variable!\n\n**Question 3 -- Use the `distinct()` function to discover the levels / values of the `species` variable.**\n\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n\n# Data Wrangling\n\nAlright, you should have found that there is more than one species included in\nthese data. For our analysis, we are only interested in Cutthroat trout.\n\nThis study used electrofishing to capture the trout. Electrofishing is a\ntechnique that uses direct current electricity flowing between a submerged\ncathode and anode, to insert an electric current into the water. This current\nstuns fish in a (hopefully) non-lethal manner, in order to capture them for\nmarking and measuring. Technically, smaller fish are less affected by the\ncurrent, so there presumably is a size of fish that is \"uncatchable.\" For our\nanalysis, we are going to filter out fish that are less than 4 inches long, as\nthis size of fish is nearly impossible to capture.\n\n**Question 4 -- Use the `filter()` function to include *only* observations on Cutthroat trout whose `length_1_mm` is greater than 4 inches (or 101 mm).** *The only part you need to remove is the `...`! Keep the `trout <-`!*\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntrout <- ...\n```\n:::\n\n\n\n\n\n# Data Visualizations\n\nAlright, now that we've gotten our data ready for analysis, let's start with some visualizations\n\n**Question 5 -- Using `ggplot()` create a visualization of the *distribution* of the lengths of the Cutthroat trout (from the `trout` dataset you `filter`ed above).** \n*Hint: The smallest value on your plot should be 101mm if you completed #4 correctly.*\n\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n\n**Question 6 -- Name three possible sources of variation for the length of a Cutthroat trout.**\n\n\n## Adding Categorical Variables\n\nWhen we are interested in comparing the distribution of a numerical variable\nacross groups of a categorical variable, we \"typically\" see people use faceted\nhistograms or side-by-side boxplots. I believe an unsung hero of these types of\ncomparisons is the **ridge plot**.\n\nAs introduced in *Introduction to Modern Statistics*, a ridge plot essentially\nhas multiple density plots stacked in the same plotting window. A key feature of\nridge plots is *a categorical variable* is **always** **on the y-axis**, with\n*a numeric variable* **on the x-axis**.\n\nIn R, we use the `geom_density_ridges()` function from the **ggridges** package\nto create a ridge plot. Yes, this is new, but don't worry! The function has the\nsame layout as things you've seen before.\n\n**Question 7 -- Fill in the code below to create a ridge plot comparing the lengths of Cutthroat trout between the different types of channels (`unittype`).** *Be sure to add nice axis labels to your plot, which describe the variables being plotted (and their units)!*\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = trout, \n       mapping = aes(x = <NUMERICAL VARIABLE>, \n                     y = <CATEGORICAL VARIABLE>)\n       ) +\n  geom_density_ridges() \n```\n:::\n\n\n\n\n\n**Question 8 -- Modify your plot from #7 to incorporate the `section` of the forest into your plot, using either `color` or `facet`s.** *Hint: The `fill` aesthetic will fill the ridge plots with color (rather than just the outline).*\n\n**Question 9 -- Based on your plot, how different are the lengths of the Cutthroat trout between the different channel types and forest sections?** *Be sure to address how the centers and shapes of ALL these distributions compare!*\n\n\n# Data Summaries\n\nPaired with visualizations, summary statistics can provide a clearer picture for\nthe comparisons we are interested in. To obtain summary statistics for different\ngroups of a categorical variable, we need to use our friend the `group_by()`\nfunction.\n\n**Question 10 -- Find the average length of Cutthroat trout from the different channel types (`unittype`).** *Be sure to use the `trout` dataset from Question 4!*\n\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n\n**Question 11 -- Find the average length of Cutthroat trout from the different channel types (`unittype`) *and* forest `section`.** *Be sure to use the `trout` dataset from Question 4!*\n\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n\n**Question 12 -- How do these averages compare with what you saw in your visualization in Question 9? Why do you believe they are similar or different from what you saw in the visualizations?** *Hint: Your response should directly compare the statistics you got in Question 11 with the density ridges you saw in Question 8.*\n",
    "supporting": [
      "lab-3_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}