{
  "hash": "37a37abc0d2e93db898301dd16da2007",
  "result": {
    "markdown": "---\ntitle: \"Team Creation\"\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──\n✔ ggplot2 3.3.6           ✔ purrr   0.3.5      \n✔ tibble  3.1.8           ✔ dplyr   1.0.99.9000\n✔ tidyr   1.2.1           ✔ stringr 1.4.1      \n✔ readr   2.1.3           ✔ forcats 0.5.2      \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n```\n:::\n\n```{.r .cell-code}\nlibrary(googlesheets4)\n```\n:::\n\n\n# Reading in Survey Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\n## Smaller form with sections\nsurvey1 <- read_sheet(\"https://docs.google.com/spreadsheets/d/1-sW8UYoR0wjSvbXZVVCYuNF9eOqHDzY2D4kYP8gDf0w/edit?resourcekey#gid=1971034339\") %>% \n  select(-1) %>% \n  rename(section = `What section of STAT 313 are you in?`, \n         last = `Your last name (as seen in Canvas)`, \n         first = `Your preferred first name`, \n         group_preference = `What do you look for in group members? (select all that apply)`, \n         group_preference_other = `If you selected \\\"Other\\\" above, please elaborate on your selection!`, \n         gender = `How would you describe your gender identity? (select all that apply)`, \n         gender_other = `If you selected \\\"Prefer to self describe\\\" above, please elaborate on your selection!...8`, \n         hispanic = `Do you identify as Hispanic or Latina?`, \n         race = `Which of the following racial groups do you identify with? (select all that apply)`, \n         race_other = `If you selected \\\"Prefer to self describe\\\" above, please elaborate on your selection!...11`, \n         other_considerations = `Do you have any additional considerations you would like for me to know while I am forming teams?`) %>% \n  distinct(last, .keep_all = TRUE)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n! Using an auto-discovered, cached token.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n  To suppress this message, modify your code or options to clearly consent to\n  the use of a cached token.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n  See gargle's \"Non-interactive auth\" vignette for more details:\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n  <\u001b]8;;https://gargle.r-lib.org/articles/non-interactive-auth.html\u0007https://gargle.r-lib.org/articles/non-interactive-auth.html\u001b]8;;\u0007>\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nℹ The googlesheets4 package is using a cached token for\n  '\u001b]8;;mailto:theobold.allison970@gmail.com\u0007theobold.allison970@gmail.com\u001b]8;;\u0007'.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nAuto-refreshing stale OAuth token.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n✔ Reading from \"Group Assignment Survey - STAT 313 Spring 2023 (Responses)\".\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n✔ Range 'Form Responses 1'.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nNew names:\n• `If you selected \"Prefer to self describe\" above, please elaborate on your\n  selection!` -> `If you selected \"Prefer to self describe\" above, please\n  elaborate on your selection!...8`\n• `If you selected \"Prefer to self describe\" above, please elaborate on your\n  selection!` -> `If you selected \"Prefer to self describe\" above, please\n  elaborate on your selection!...11`\n```\n:::\n\n```{.r .cell-code}\n## Larger form without sections\nsurvey2 <- read_sheet(\"https://docs.google.com/spreadsheets/d/1fGzz6yMcuJI-GpbUTO0Iz-CScg3Xv55lqGpgqzailDc/edit?resourcekey#gid=757833999\") %>% \n  select(-1) %>% \n  rename(last = `Your last name (as seen in Canvas)`, \n         first = `Your preferred first name`, \n         pronouns = `What pronouns would you like me to use in referring to you? Select all that apply!`, \n         gender = `How would you describe your gender identity? Select all that apply!`,\n         gender_other = `If you selected \\\"Prefer to self describe\\\" above, please elaborate on your selection!...6`, \n         race = `Which of the following racial groups do you identify with? Select all that apply!`, \n         race_other = `If you selected \\\"Prefer to self describe\\\" above, please elaborate on your selection!...8`, \n         hispanic = `Do you identify as Hispanic or Latinx?`, \n         group_preference = `What do you look for in group members? Select all that apply!`, \n         group_preference_other = `If you selected \\\"Other\\\" above, please elaborate on your selection!`, \n         other_considerations = `Do you have any additional considerations you would like for me to know when I am forming teams?`\n         ) %>% \n  distinct(last, .keep_all = TRUE)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n✔ Reading from \"STAT 313 Team Scheduling Survey (Responses)\".\n✔ Range 'Form Responses 1'.\nNew names:\n```\n:::\n:::\n\n\n# Joining Surveys\n\nShould hopefully not need to do this next time...\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmatching_cols <- intersect(colnames(survey1), \n                           colnames(survey2)\n                           )\n\nall_surveys <- survey2 %>% \n  select(all_of(matching_cols)) %>% \n  full_join(survey1,\n            by = c(matching_cols)\n            )\n```\n:::\n\n\n# Surveys Completed\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsurvey1 %>% \n  select(last) %>% \n  arrange(last)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 51 × 1\n   last        \n   <chr>       \n 1 Alarcon     \n 2 Betwos      \n 3 Bobbitt     \n 4 Caffo       \n 5 Chowaniec   \n 6 Chris Deuter\n 7 Cohn        \n 8 Colby       \n 9 Dohrmann    \n10 English     \n# … with 41 more rows\n```\n:::\n\n```{.r .cell-code}\nsurvey2 %>% \n  select(last) %>% \n  arrange(last)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 39 × 1\n   last        \n   <chr>       \n 1 Babb        \n 2 Bennitt     \n 3 Chmelka     \n 4 Coyne       \n 5 David       \n 6 Felices     \n 7 Franco      \n 8 Goebel      \n 9 Guglielmelli\n10 Hodges      \n# … with 29 more rows\n```\n:::\n:::\n\n\n# Remove Waitlist\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwaitlist <- tibble(last = c(\"Lin\", \n                            \"Betwos\", \n                            \"Koo\", \n                            \"Chmelka\", \n                            \"Nayak\", \n                            \"Caffo\", \n                            \"Colby\", \n                            \"Franco\")\n                   ) %>% \n  mutate(last = tolower(last)\n         )\n\nno_waitlist <- all_surveys %>% \n  mutate(last = tolower(last)) %>% \n  anti_join(waitlist, by = \"last\")\n```\n:::\n\n\n# Form Groups\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnon_white_women <- no_waitlist %>% \n  filter(race != \"White\", \n         gender != \"Man / Male / Masculine\") %>% \n  arrange(last)\n\nnon_white_women <- no_waitlist %>% \n  filter(race != \"White\", \n         gender != \"Man / Male / Masculine\") %>% \n  arrange(last)\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}